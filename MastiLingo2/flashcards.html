<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MastiLingo Flashcards</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(-45deg, #fbc2eb, #a6c1ee, #dbeafe, #e0f7fa);
      background-size: 400% 400%;
      animation: gradientBG 10s ease infinite;
      color: #333;
      margin: 0;
      min-height: 100vh;
    }
    @keyframes gradientBG {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }
    .flashcard {
      perspective: 1000px;
    }
    .flashcard-inner {
      transition: transform 0.6s;
      transform-style: preserve-3d;
      position: relative;
      width: 320px;
      height: 200px;
    }
    .flashcard.flipped .flashcard-inner {
      transform: rotateY(180deg);
    }
    .flashcard-front, .flashcard-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border-radius: 1.5rem;
      box-shadow: 0 6px 24px rgba(0,0,0,0.13);
      background: #fff;
      padding: 2rem;
    }
    .flashcard-back {
      transform: rotateY(180deg);
      background: #f3f4f7;
    }
    .flip-btn {
      margin-top: 1.5rem;
      background: #3b82f6;
      color: #fff;
      border: none;
      border-radius: 0.75rem;
      padding: 0.5rem 1.5rem;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }
    .flip-btn:hover {
      background: #2563eb;
    }
  </style>
</head>
<body>
  <header class="flex items-center justify-between px-8 py-4 bg-blue-600 text-white shadow">
    <h1 class="text-2xl font-bold">üÉè MastiLingo Flashcards</h1>
    <div class="flex gap-4">
      <a href="dashboard.html" class="bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold shadow hover:bg-blue-100 transition">Back to Dashboard</a>
      <button onclick="goToLetters()" class="bg-pink-100 text-pink-700 px-4 py-2 rounded-lg font-semibold shadow hover:bg-pink-200 transition">Letters</button>
      <a href="flashcards.html" class="bg-green-100 text-green-700 px-4 py-2 rounded-lg font-semibold shadow hover:bg-green-200 transition">Flashcards</a>
    </div>
  </header>
  <main class="flex flex-col items-center justify-center min-h-[80vh]">
    <div class="flex flex-col items-center mt-8">
      <div class="mb-4 flex gap-2 items-center">
        <label for="langSelect" class="font-semibold text-blue-700">Language:</label>
        <select id="langSelect" class="rounded-lg px-3 py-1 border border-blue-300 focus:outline-none">
          <option value="Hindi">Hindi</option>
          <option value="Kannada">Kannada</option>
          <option value="Tamil">Tamil</option>
          <option value="Telugu">Telugu</option>
          <option value="Malayalam">Malayalam</option>
        </select>
      </div>
      <div id="flashcard" class="flashcard mt-4">
        <div class="flashcard-inner">
          <div class="flashcard-front">
            <span id="cardFront" class="text-4xl font-bold mb-4">?</span>
            <span id="cardTranslit" class="text-lg text-gray-500 mb-2"></span>
            <button class="flip-btn" onclick="flipCard()">Show Meaning</button>
          </div>
          <div class="flashcard-back">
            <span id="cardBack" class="text-2xl font-semibold mb-4">?</span>
            <button class="flip-btn" onclick="flipCard()">Back</button>
          </div>
        </div>
      </div>
      <div class="flex gap-6 mt-8">
        <button onclick="prevCard()" class="bg-blue-200 hover:bg-blue-400 text-blue-900 font-bold px-6 py-2 rounded-lg shadow">‚èÆ Prev</button>
        <button onclick="playAudio()" class="bg-yellow-200 hover:bg-yellow-400 text-yellow-900 font-bold px-6 py-2 rounded-lg shadow">üîä Listen</button>
        <button onclick="nextCard()" class="bg-blue-200 hover:bg-blue-400 text-blue-900 font-bold px-6 py-2 rounded-lg shadow">Next ‚è≠</button>
      </div>
      <div class="mt-6 text-gray-500 text-sm" id="progress"></div>
    </div>
  </main>
  <audio id="flashcardAudio"></audio>
  <audio id="successSound" src="sounds/success.mp3"></audio>
  <script>
    function goToLetters() {
      window.location.href = 'dashboard.html#letters';
    }

    // Quiz data for all 5 languages
    const quizData = {
      Hindi: [
        { word: "‡§®‡§Æ‡§∏‡•ç‡§§‡•á", translit: "Namaste", english: "Hello", audio: "audio/hindi/hindi_1.mp3" },
        { word: "‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶", translit: "Dhanyavaad", english: "Thank you", audio: "audio/hindi/hindi_2.mp3" },
        { word: "‡§ï‡•É‡§™‡§Ø‡§æ", translit: "Kripya", english: "Please", audio: "audio/hindi/hindi_3.mp3" },
        { word: "‡§Æ‡•Å‡§ù‡•á ‡§Æ‡§æ‡§´ ‡§ï‡§∞‡•á‡§Ç", translit: "Mujhe maaf karein", english: "Sorry", audio: "audio/hindi/hindi_4.mp3" },
      ],
      Kannada: [
        { word: "‡≤®‡≤Æ‡≤∏‡≥ç‡≤ï‡≤æ‡≤∞", translit: "Namaskara", english: "Hello", audio: "audio/kannada/kannada_1.mp3" },
        { word: "‡≤ß‡≤®‡≥ç‡≤Ø‡≤µ‡≤æ‡≤¶‡≤ó‡≤≥‡≥Å", translit: "Dhanyavadagalu", english: "Thank you", audio: "audio/kannada/kannada_2.mp3" },
        { word: "‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å", translit: "Dayavittu", english: "Please", audio: "audio/kannada/kannada_3.mp3" },
        { word: "‡≤ï‡≥ç‡≤∑‡≤Æ‡≤ø‡≤∏‡≤ø", translit: "Kshamisi", english: "Sorry", audio: "audio/kannada/kannada_4.mp3" },
      ],
      Tamil: [
        { word: "‡Æµ‡Æ£‡Æï‡Øç‡Æï‡ÆÆ‡Øç", translit: "Vanakkam", english: "Hello", audio: "audio/tamil/tamil_1.mp3" },
        { word: "‡Æ®‡Æ©‡Øç‡Æ±‡Æø", translit: "Nandri", english: "Thank you", audio: "audio/tamil/tamil_2.mp3" },
        { word: "‡Æ§‡ÆØ‡Æµ‡ØÅ", translit: "Thayavu", english: "Please", audio: "audio/tamil/tamil_3.mp3" },
        { word: "‡ÆÆ‡Æ©‡Øç‡Æ©‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç", translit: "Mannikkavum", english: "Sorry", audio: "audio/tamil/tamil_4.mp3" },
      ],
      Telugu: [
        { word: "‡∞®‡∞Æ‡∞∏‡±ç‡∞§‡±á", translit: "Namaste", english: "Hello", audio: "audio/telugu/telugu_1.mp3" },
        { word: "‡∞ß‡∞®‡±ç‡∞Ø‡∞µ‡∞æ‡∞¶‡∞æ‡∞≤‡±Å", translit: "Dhanyavadalu", english: "Thank you", audio: "audio/telugu/telugu_2.mp3" },
        { word: "‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø", translit: "Dayachesi", english: "Please", audio: "audio/telugu/telugu_3.mp3" },
        { word: "‡∞ï‡±ç‡∞∑‡∞Æ‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", translit: "Kshaminchandi", english: "Sorry", audio: "audio/telugu/telugu_4.mp3" },
      ],
      Malayalam: [
        { word: "‡¥®‡¥Æ‡¥∏‡µç‡¥ï‡¥æ‡¥∞‡¥Ç", translit: "Namaskaram", english: "Hello", audio: "audio/malayalam/malayalam_1.mp3" },
        { word: "‡¥®‡¥®‡µç‡¥¶‡¥ø", translit: "Nandi", english: "Thank you", audio: "audio/malayalam/malayalam_2.mp3" },
        { word: "‡¥¶‡¥Ø‡¥µ‡¥æ‡¥Ø‡¥ø", translit: "Dayavaayi", english: "Please", audio: "audio/malayalam/malayalam_3.mp3" },
        { word: "‡¥ï‡µç‡¥∑‡¥Æ‡¥ø‡¥ï‡µç‡¥ï‡¥£‡¥Ç", translit: "Kshamikkanam", english: "Sorry", audio: "audio/malayalam/malayalam_4.mp3" },
      ]
    };

    let currentLang = localStorage.getItem("selectedLanguage") || "Hindi";
    let current = 0;

    function setLangSelect() {
      document.getElementById('langSelect').value = currentLang;
    }

    function renderCard() {
      const flashcards = quizData[currentLang];
      if (!flashcards || flashcards.length === 0) {
        document.getElementById('cardFront').innerText = 'No cards';
        document.getElementById('cardBack').innerText = '';
        document.getElementById('cardTranslit').innerText = '';
        document.getElementById('progress').innerText = '';
        return;
      }
      document.getElementById('cardFront').innerText = flashcards[current].word;
      document.getElementById('cardTranslit').innerText = flashcards[current].translit;
      document.getElementById('cardBack').innerText = flashcards[current].english;
      document.getElementById('progress').innerText = `Card ${current+1} of ${flashcards.length}`;
      document.getElementById('flashcard').classList.remove('flipped');
      // Disable next button if at end
      document.querySelectorAll('.flex.gap-6 button')[2].disabled = (current === flashcards.length - 1);
      // Disable prev button if at start
      document.querySelectorAll('.flex.gap-6 button')[0].disabled = (current === 0);
    }

    function flipCard() {
      document.getElementById('flashcard').classList.toggle('flipped');
    }
    function nextCard() {
      const flashcards = quizData[currentLang];
      if (current < flashcards.length - 1) {
        current++;
        renderCard();
      } else {
        document.getElementById('successSound').play();
        setTimeout(() => {
          alert('üéâ You\'re done learning these flashcards!');
        }, 300);
      }
    }
    function prevCard() {
      const flashcards = quizData[currentLang];
      if (current > 0) {
        current--;
        renderCard();
      }
    }
    function playAudio() {
      const flashcards = quizData[currentLang];
      const audio = document.getElementById('flashcardAudio');
      audio.src = flashcards[current].audio;
      audio.play();
    }

    document.getElementById('langSelect').addEventListener('change', function() {
      currentLang = this.value;
      localStorage.setItem("selectedLanguage", currentLang);
      current = 0;
      renderCard();
    });

    setLangSelect();
    renderCard();
  </script>
</body>
</html>
